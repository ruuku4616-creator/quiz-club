<!DOCTYPE html>
<html lang="ja">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ´»å‹•å ±å‘Šä¸€è¦§ - SIQå…¬å¼ã‚µã‚¤ãƒˆ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="menu-btn" id="menu-btn">
    <span></span>
    <span></span>
    <span></span>
</div>

<nav class="nav-menu" id="nav-menu">
    <ul>
        <li><a href="index.html">ãƒ›ãƒ¼ãƒ </a></li>
        <li><a href="active.html">æ´»å‹•å ±å‘Š</a></li>
        <li><a href="quiz.html">SIQä»Šæ—¥ã®ä¸€å•</a></li>
        <li><a href="event.html">èŠæŸæ¯ ç‰¹è¨­ãƒšãƒ¼ã‚¸</a></li>
        <li><a href="blog-list.html">éƒ¨å“¡ãƒ–ãƒ­ã‚°</a></li>
    </ul>
</nav>

<nav class="site-navbar">
    <a href="index.html" class="logo-area">
        <img id="site-logo-img" src="" alt="ãƒ­ã‚´" style="display: none; height: 50px; width: auto; margin-right: 10px;">
        <div id="logo-q-placeholder" class="logo-placeholder">Q</div>
        <span id="site-logo-text">Shibaura Institute of Quiz</span>
    </a>
</nav>

    <div class="container" style="margin-top: 80px;">
        <h1 style="color: var(--accent-green);">æ´»å‹•å ±å‘Š</h1>
        <div class="section">
            <div id="full-list" class="post-grid">èª­ã¿è¾¼ã¿ä¸­...</div>
        </div>
    </div>

    <script>
        async function loadSiteData() {
        try {
            const response = await fetch('data/index.json');
            const data = await response.json();
            document.getElementById('site-logo-text').innerText = data.site_title_en || "Shibaura Institute of Quiz";
            const logoImg = document.getElementById('site-logo-img');
            if (data.logo_image) {
                logoImg.src = data.logo_image;
                logoImg.style.display = 'inline-block';
                if(document.getElementById('logo-q-placeholder')) {
                    document.getElementById('logo-q-placeholder').style.display = 'none';
                }
            }
        } catch (e) { console.error(e); }
    }

    async function loadActiveList() { // é–¢æ•°åå¤‰æ›´
        const list = document.getElementById('active-blog-list'); // IDã‚‚åˆã‚ã›ã‚‹
        try {
            const response = await fetch('data/blog-list.json'); // å‚ç…§JSONã‚’å¤‰æ›´
            const posts = await response.json();
            
            list.innerHTML = '';

            for (const name of posts) {
                // ... (ç•¥) ...
                const folder = 'blog'; // èª­ã¿è¾¼ã¿ãƒ•ã‚©ãƒ«ãƒ€ã‚’ blog ã«
                const postRes = await fetch(`data/${folder}/${name}.md`);
                // ... (ç•¥) ...

                const card = document.createElement('a');
                // ãƒªãƒ³ã‚¯å…ˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ folder=blog ã«
                card.href = `blog.html?folder=blog&post=${encodeURIComponent(name)}`;
                card.className = 'post-card';
                // ... (ä»¥ä¸‹ã€çµ„ã¿ç«‹ã¦ã¯åŒã˜) ...
            }
        } catch (e) { ... }
    }
                // 3. ã‚«ãƒ¼ãƒ‰ã®HTMLçµ„ã¿ç«‹ã¦
                const card = document.createElement('a');
                card.href = `blog.html?folder=blog&post=${encodeURIComponent(name)}`;
                card.className = 'post-card';
                if (thumbUrl) card.classList.add('has-image');
                
                card.innerHTML = `
                    <img src="${thumbUrl}" class="post-card-thumb" alt="${name}">
                    <div class="post-card-content">
                        <h3 class="post-card-title">${name}</h3>
                        <div class="post-card-meta">
                            <span>ğŸ“… ${postDate || 'æ—¥ä»˜ãªã—'}</span>
                            <span>ğŸ‘¤ ${postAuthor}</span>
                        </div>
                        <div class="post-card-more">è¨˜äº‹ã‚’èª­ã‚€ â†’</div>
                    </div>
                `;
                list.appendChild(card);
            }
        } catch (e) {
            console.error(e);
            list.innerHTML = '<p>è¨˜äº‹ãŒèª­ã¿è¾¼ã‚ãªã„ã‹ã€ã¾ã ã‚ã‚Šã¾ã›ã‚“ã€‚</p>';
        }
    }

    function setupMenu() {
        const menuBtn = document.getElementById('menu-btn');
        const navMenu = document.getElementById('nav-menu');
        if (menuBtn && navMenu) {
            menuBtn.addEventListener('click', () => navMenu.classList.toggle('active'));
            document.addEventListener('click', (e) => {
                if (!menuBtn.contains(e.target) && !navMenu.contains(e.target)) {
                    navMenu.classList.remove('active');
                }
            });
        }
    }

    window.addEventListener('DOMContentLoaded', () => {
        loadSiteData();
        loadMemberList();
        setupMenu();
    });
    </script>
</body>
</html>


















