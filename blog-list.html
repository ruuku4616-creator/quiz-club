<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>部員ブログ一覧 - クイズ研究会</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="menu-btn" id="menu-btn">
        <span></span>
        <span></span>
        <span></span>
    </div>
    
    <nav class="nav-menu" id="nav-menu">
        <ul>
            <li><a href="index.html">ホーム</a></li>
            <li><a href="active.html">活動報告</a></li>
            <li><a href="quiz.html">SIQ今日の一問</a></li>
            <li><a href="event.html">芝柏杯 特設ページ</a></li>
            <li><a href="#">文化祭（準備中）</a></li>
            <li><a href="blog-list.html">部員ブログ</a></li>
        </ul>
    </nav>

    <nav>
        <a href="index.html" class="logo-area">
            <div id="logo-q-placeholder" class="logo-placeholder">Q</div>
            <span id="site-logo-text">Shibaura Institute of Quiz</span>
        </a>
    </nav>

    <div class="container" style="margin-top: 80px;">
        <h1 style="color: var(--accent-green);">部員ブログ</h1>
        <div class="section">
            <ul id="member-blog-list"><li>読み込み中...</li></ul>
        </div>
    </div>

    <script>
    // 1. 部員ブログ一覧の読み込み
    async function loadMemberList() {
        const list = document.getElementById('member-blog-list');
        try {
            const response = await fetch('data/member-list.json');
            if (!response.ok) throw new Error();
            const posts = await response.json();
            
            list.innerHTML = '';
            posts.forEach(name => {
                const li = document.createElement('li');
                li.style.marginBottom = "15px";
                // 正しい書き方
                li.innerHTML = `<a href="blog.html?folder=members_blog&post=${encodeURIComponent(name)}" ...`;
                list.appendChild(li);
            });
        } catch (e) {
            console.error(e);
            document.getElementById('post-title').innerText = "エラー";
            document.getElementById('post-content').innerText = "記事が見つかりませんでした。";
        }
    } // ← loadBlogPost 関数の終わり

    // メニュー開閉設定
    const menuBtn = document.getElementById('menu-btn');
    // ...

    // 2. メニュー開閉の設定（★ここを追加しました）
    function setupMenu() {
        const menuBtn = document.getElementById('menu-btn');
        const navMenu = document.getElementById('nav-menu');
        
        if (menuBtn && navMenu) {
            menuBtn.addEventListener('click', () => {
                navMenu.classList.toggle('active');
            });

            // メニューの外側をクリックしたら閉じる設定
            document.addEventListener('click', (e) => {
                if (!menuBtn.contains(e.target) && !navMenu.contains(e.target)) {
                    navMenu.classList.remove('active');
                }
            });
        }
    }

    // ページ読み込み時に両方を実行
    window.addEventListener('DOMContentLoaded', () => {
        loadMemberList();
        setupMenu();
    });
    </script>
</body>
</html>
